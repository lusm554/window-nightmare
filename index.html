<!DOCTYPE html>
<html>
  <body>
    <script>
      function sleep(sleep_time_in_milliseconds) {
        // Sync example
        //let current_time = new Date().getTime()
        //while(new Date().getTime() < (current_time + sleep_time_in_milliseconds));
        // Async example
        return new Promise((resolve) => setTimeout(resolve, sleep_time_in_milliseconds));
      }
      async function spawn_windows() {
        for (let i = 0; i < 1000; i += 150) {
          window.open("", `t${i}`, `width=400,height=400,screenX=${i},screenY=0`)
          await sleep(150)
        }
        for (let i = 0; i < 1000; i += 150) {
          window.open("", `b${i}`, `width=400,height=400,screenX=${i},screenY=500`)
          await sleep(150)
        }
        for (let i = 0; i < 1000; i += 150) {
          window.open("", `j${i}`, `width=400,height=400,screenX=${i},screenY=900`)
          await sleep(150)
        }
      }
      async function main() {
        document.getElementById("page_size").innerHTML = `Width = ${window.screen.width}, Height = ${window.screen.height}`;
        spawn_windows()
        await sleep(1000)
        console.log(1)
      }
      document.addEventListener('DOMContentLoaded', main, false)
    </script>
    <h1 id="page_size"> </h1>
  </body>
</html> 

